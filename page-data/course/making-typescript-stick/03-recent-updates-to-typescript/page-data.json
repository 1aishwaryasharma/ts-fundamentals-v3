{
    "componentChunkName": "component---src-templates-blog-post-tsx",
    "path": "/course/making-typescript-stick/03-recent-updates-to-typescript/",
    "result": {"data":{"site":{"siteMetadata":{"title":"Learn TypeScript w/ Mike North","courses":[{"id":"fundamentals-v3","title":"TypeScript Fundamentals v3","summary":"By adding static types to the JavaScript programming language, TypeScript delivers a rich and productive code authoring and review experience, while catching entire categories of bugs at compile time instead of runtime. In this workshop, you'll learn everything you need to know in order to confidently and successfully use TypeScript to build a modern JavaScript app."},{"id":"intermediate-v1","title":"Intermediate TypeScript","summary":"It's relatively easy to get started with TypeScript, but the learning curve\nbecomes much steeper once things become more complex and abstract. This workshop\nteaches you how to leverage TypeScript's strengths to provide clarity\nin the face of complexity, while protecting your codebase and team\nfrom it's weaknesses.\n"},{"id":"making-typescript-stick","title":"Making TypeScript Stick","summary":"Completing an introductory TypeScript workshop is a great first step your TS\nlearning journey, but being able to apply the language to solve challenging\nand varied problems can require a deeper understanding, and a well-formed\nmental model. In this workshop, we'll tackle a series of challenges designed\nto reinforce your knowledge and make the important concepts truly \"stick\"\nin your mind.\n"},{"id":"full-stack-typescript","title":"Full Stack TypeScript","summary":"TypeScript offers a delightful authoring experience, but for many apps all\nbets are off once you make an API call and receive an `any` response back.\nIn this workshop we'll combine TypeScript and GraphQL's type systems to\ncreate full-stack, fully-type-checked codebases (even the data layer!)\nthat are shockingly easy to evolve, refactor and maintain.\n"}]}},"markdownRemark":{"id":"dbe64c82-0b16-5309-a9e7-e50b6fc07c0c","excerpt":"Variadic Tuple Types We know that a tuple type is an ordered collection (often of known length),\nwith the type of each member known as well. For a while, it’s…","html":"<h1 id=\"variadic-tuple-types\" style=\"position:relative;\"><a href=\"#variadic-tuple-types\" aria-label=\"variadic tuple types permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Variadic Tuple Types</h1>\n<p>We know that a tuple type is an ordered collection (often of known length),\nwith the type of each member known as well.</p>\n<pre class=\"shiki github-light twoslash lsp\" style=\"background-color: #ffffff; color: #24292e\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #D73A49\">type</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\"><data-lsp lsp='type Color = [number, number, number]' >Color</data-lsp></span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> [</span></div><div class='line'><span style=\"color: #24292E\">  </span><span style=\"color: #005CC5\">number</span><span style=\"color: #24292E\">, </span><span style=\"color: #6A737D\">// red (0-255)</span></div><div class='line'><span style=\"color: #24292E\">  </span><span style=\"color: #005CC5\">number</span><span style=\"color: #24292E\">, </span><span style=\"color: #6A737D\">// green (0-255)</span></div><div class='line'><span style=\"color: #24292E\">  </span><span style=\"color: #005CC5\">number</span><span style=\"color: #24292E\"> </span><span style=\"color: #6A737D\">// blue (0-255)</span></div><div class='line'><span style=\"color: #24292E\">]</span></div></code><a class='playground-link' href='https://www.typescriptlang.org/play/#code/C4TwDgpgBAwg9gGzgJygXigbQFBSgOwFcBbAIwmQBooB6GqZCAEygAoAGAWgCYBWXgJS4CJclVr0A5owj42XPoOFEyFCVFIJC0Dj35CAukA'>Try</a></div></pre>\n<p>For a while, it’s also been possible to use a <code>...spread[]</code> as the last\nelement of the tuple</p>\n<pre class=\"shiki github-light twoslash lsp\" style=\"background-color: #ffffff; color: #24292e\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #6A737D\">// Worked this way, even before TS 4.x</span></div><div class='line'><span style=\"color: #D73A49\">type</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\"><data-lsp lsp='type MyTuple = [number, ...string[]]' >MyTuple</data-lsp></span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> [</span><span style=\"color: #005CC5\">number</span><span style=\"color: #24292E\">, </span><span style=\"color: #D73A49\">...</span><span style=\"color: #005CC5\">string</span><span style=\"color: #24292E\">[]]</span></div><div class='line'>&nbsp;</div><div class='line'><span style=\"color: #D73A49\">const</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\"><data-lsp lsp='const x1: MyTuple' >x1</data-lsp></span><span style=\"color: #D73A49\">:</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\"><data-lsp lsp='type MyTuple = [number, ...string[]]' >MyTuple</data-lsp></span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> [</span><span style=\"color: #005CC5\">4</span><span style=\"color: #24292E\">]</span></div><div class='line'><span style=\"color: #D73A49\">const</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\"><data-lsp lsp='const x2: MyTuple' >x2</data-lsp></span><span style=\"color: #D73A49\">:</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\"><data-lsp lsp='type MyTuple = [number, ...string[]]' >MyTuple</data-lsp></span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> [</span><span style=\"color: #005CC5\">4</span><span style=\"color: #24292E\">, </span><span style=\"color: #032F62\">\"foo\"</span><span style=\"color: #24292E\">]</span></div><div class='line'><span style=\"color: #D73A49\">const</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\"><data-lsp lsp='const x3: MyTuple' >x3</data-lsp></span><span style=\"color: #D73A49\">:</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\"><data-lsp lsp='type MyTuple = [number, ...string[]]' >MyTuple</data-lsp></span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> [</span><span style=\"color: #005CC5\">4</span><span style=\"color: #24292E\">, </span><span style=\"color: #032F62\">\"foo\"</span><span style=\"color: #24292E\">, </span><span style=\"color: #032F62\">\"bar\"</span><span style=\"color: #24292E\">]</span></div><div class='line'><span style=\"color: #D73A49\">const</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\"><data-err><data-lsp lsp='const will_error: MyTuple' >will_error</data-lsp></data-err></span><span style=\"color: #D73A49\">:</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\"><data-lsp lsp='type MyTuple = [number, ...string[]]' >MyTuple</data-lsp></span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> [</span><span style=\"color: #005CC5\">4</span><span style=\"color: #24292E\">, </span><span style=\"color: #005CC5\">4</span><span style=\"color: #24292E\">]</span></div><span class=\"error\"><span>Type '[number, number]' is not assignable to type 'MyTuple'.\n  Type at position 1 in source is not compatible with type at position 1 in target.\n    Type 'number' is not assignable to type 'string'.</span><span class=\"code\">2322</span></span><span class=\"error-behind\">Type '[number, number]' is not assignable to type 'MyTuple'.\n  Type at position 1 in source is not compatible with type at position 1 in target.\n    Type 'number' is not assignable to type 'string'.</span></code><a class='playground-link' href='https://www.typescriptlang.org/play/#code/PTAEAEFMCdoe2gZwFygEwGY1oFAlAOoIDWkAJqAC4AWAloqAO4CGAngDSiQBukAdqABGkAGYJIoACoBlUABYAdAA8clVgAcJAWVaSAruoA2EgLygA2nz0BbYdE4LHiStFp8A5uYC6XnDgDGcHzOoEoAjKg6+kamFnK+gcGUoWiRugbGoGbmcpwARGJweQlBIUoYadGZ2bmgBXBF+YLM0MUBpcmMtIaGAPow8NCVGbE5nPFAA'>Try</a></div></pre>\n<p>It has even been possible to use generics for that spread type\nat the end of the tuple</p>\n<pre class=\"shiki github-light twoslash lsp\" style=\"background-color: #ffffff; color: #24292e\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #6A737D\">// Worked this way, even before TS 4.x</span></div><div class='line'><span style=\"color: #D73A49\">type</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\"><data-lsp lsp='type MyTuple&lt;T> = [number, ...T[]]' >MyTuple</data-lsp></span><span style=\"color: #24292E\">&lt;</span><span style=\"color: #E36209\"><data-lsp lsp='(type parameter) T in type MyTuple&lt;T>' >T</data-lsp></span><span style=\"color: #24292E\">&gt; </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> [</span><span style=\"color: #005CC5\">number</span><span style=\"color: #24292E\">, </span><span style=\"color: #D73A49\">...</span><span style=\"color: #E36209\"><data-lsp lsp='(type parameter) T in type MyTuple&lt;T>' >T</data-lsp></span><span style=\"color: #24292E\">[]]</span></div><div class='line'>&nbsp;</div><div class='line'><span style=\"color: #D73A49\">const</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\"><data-lsp lsp='const x1: MyTuple&lt;string>' >x1</data-lsp></span><span style=\"color: #D73A49\">:</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\"><data-lsp lsp='type MyTuple&lt;T> = [number, ...T[]]' >MyTuple</data-lsp></span><span style=\"color: #24292E\">&lt;</span><span style=\"color: #005CC5\">string</span><span style=\"color: #24292E\">&gt; </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> [</span><span style=\"color: #005CC5\">4</span><span style=\"color: #24292E\">, </span><span style=\"color: #032F62\">\"hello\"</span><span style=\"color: #24292E\">]</span></div><div class='line'><span style=\"color: #D73A49\">const</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\"><data-lsp lsp='const x2: MyTuple&lt;boolean>' >x2</data-lsp></span><span style=\"color: #D73A49\">:</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\"><data-lsp lsp='type MyTuple&lt;T> = [number, ...T[]]' >MyTuple</data-lsp></span><span style=\"color: #24292E\">&lt;</span><span style=\"color: #005CC5\">boolean</span><span style=\"color: #24292E\">&gt; </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> [</span><span style=\"color: #005CC5\">4</span><span style=\"color: #24292E\">, </span><span style=\"color: #005CC5\">true</span><span style=\"color: #24292E\">]</span></div></code><a class='playground-link' href='https://www.typescriptlang.org/play/#code/PTAEAEFMCdoe2gZwFygEwGY1oFAlAOoIDWkAJqAC4AWAloqAO4CGAngDSiQBukAdqABGkAGYJIoACoBlUABYAdAA8clVgAcJAWVaSAruoA2kADySAfKAC8oANp89AW2HROC95NsBdLzhwBjOD5ESlAlAEZUHX0jUxDoWj4Ac0sbWzlOACJqSENDOEzfQODQpTQo3QNjE0E4OGNmPlS7DKpoPUgvIA'>Try</a></div></pre>\n<p>It’s important to note that, before TS 4.0 we had to use <code>...T[]</code>, and could not\ndo something like this (<a href=\"https://www.typescriptlang.org/play?ts=3.9.7#code/C4TwDgpgBAsiAqBXMAbCAeeUIA9gQDsATAZygEMCQBtAXQD4oBeKagxAWwCMIAnAGigA6EfFoBuALAAoIA\">example in TS playground</a>)</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/307a4ef6247fef229a425517efcdf499/807a0/variadic-tuple-generic-TS3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 29.142857142857142%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABE0lEQVQY032Q6U6EMBRGeRBaUYeyVJYCZYeZRDQaHd//bY7S0RiN8cfJaW97v97Um6aJYRhIkoR1XRnH0a137/Wvs3meybKMw+FAGIY/iOOYZVk4nU54x+NK0zS01tJ3nWusqoq2bd2luq7Js8y5KAoX+ps8z7HW0vU93rZt2K7n4fmJaVl4eT1zvz0yjBNv5zP9OFE3lqpuXOj+2F8YY5jHES8IAm5jTaBTbnTCdRhzHWlUmqFUSJhkjqwwpFqjlEKpyDmKvh0qhS1LPCklQvhIXyB8gRQ7PsL3EUJc7PuURUnXD5iqxpQGYypHnheUn/tU310C/0NIyZWUJEWLblaivKV2f9zRNJa+H1zoPrX+CHwHFCa4MzoyGs4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Attempt to spread an array-like T in a generic tuple type, before TS 4.0\"\n        title=\"Attempt to spread an array-like T in a generic tuple type, before TS 4.0\"\n        src=\"/static/307a4ef6247fef229a425517efcdf499/8c557/variadic-tuple-generic-TS3.png\"\n        srcset=\"/static/307a4ef6247fef229a425517efcdf499/4edbd/variadic-tuple-generic-TS3.png 175w,\n/static/307a4ef6247fef229a425517efcdf499/13ae7/variadic-tuple-generic-TS3.png 350w,\n/static/307a4ef6247fef229a425517efcdf499/8c557/variadic-tuple-generic-TS3.png 700w,\n/static/307a4ef6247fef229a425517efcdf499/e996b/variadic-tuple-generic-TS3.png 1050w,\n/static/307a4ef6247fef229a425517efcdf499/2cefc/variadic-tuple-generic-TS3.png 1400w,\n/static/307a4ef6247fef229a425517efcdf499/807a0/variadic-tuple-generic-TS3.png 1652w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Why does this matter? Let’s look at this example</p>\n<pre class=\"shiki github-light twoslash lsp\" style=\"background-color: #ffffff; color: #24292e\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #6A737D\">/**</span></div><div class='line'><span style=\"color: #6A737D\"> * return an array containing everything except the first element</span></div><div class='line'><span style=\"color: #6A737D\"> */</span></div><div class='line'><span style=\"color: #D73A49\">function</span><span style=\"color: #24292E\"> </span><span style=\"color: #6F42C1\"><data-lsp lsp='function tail&lt;T>(arg: readonly [string, ...T[]]): T[]' >tail</data-lsp></span><span style=\"color: #24292E\">&lt;</span><span style=\"color: #E36209\"><data-lsp lsp='(type parameter) T in tail&lt;T>(arg: readonly [string, ...T[]]): T[]' >T</data-lsp></span><span style=\"color: #24292E\">&gt;(</span><span style=\"color: #E36209\"><data-lsp lsp='(parameter) arg: readonly [string, ...T[]]' >arg</data-lsp></span><span style=\"color: #D73A49\">:</span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">readonly</span><span style=\"color: #24292E\"> [</span><span style=\"color: #005CC5\">string</span><span style=\"color: #24292E\">, </span><span style=\"color: #D73A49\">...</span><span style=\"color: #E36209\"><data-lsp lsp='(type parameter) T in tail&lt;T>(arg: readonly [string, ...T[]]): T[]' >T</data-lsp></span><span style=\"color: #24292E\">[]]) {</span></div><div class='line'><span style=\"color: #24292E\">  </span><span style=\"color: #D73A49\">const</span><span style=\"color: #24292E\"> [</span><span style=\"color: #005CC5\"><data-lsp lsp='const _ignored: string' >_ignored</data-lsp></span><span style=\"color: #24292E\">, </span><span style=\"color: #D73A49\">...</span><span style=\"color: #005CC5\"><data-lsp lsp='const rest: T[]' >rest</data-lsp></span><span style=\"color: #24292E\">] </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> <data-lsp lsp='(parameter) arg: readonly [string, ...T[]]' >arg</data-lsp></span></div><div class='line'><span style=\"color: #24292E\">  </span><span style=\"color: #D73A49\">return</span><span style=\"color: #24292E\"> <data-lsp lsp='const rest: T[]' >rest</data-lsp></span></div><div class='line'><span style=\"color: #24292E\">}</span></div><div class='line'>&nbsp;</div><div class='line'><span style=\"color: #D73A49\">const</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\"><data-lsp lsp='const arr: readonly [\"my numbers\", 1, 2, 3]' >arr</data-lsp></span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> [</span><span style=\"color: #032F62\">\"my numbers\"</span><span style=\"color: #24292E\">, </span><span style=\"color: #005CC5\">1</span><span style=\"color: #24292E\">, </span><span style=\"color: #005CC5\">2</span><span style=\"color: #24292E\">, </span><span style=\"color: #005CC5\">3</span><span style=\"color: #24292E\">] </span><span style=\"color: #D73A49\">as</span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\"><data-lsp lsp='type const = readonly [\"my numbers\", 1, 2, 3]' >const</data-lsp></span></div><div class='line'><span style=\"color: #D73A49\">const</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\"><data-lsp lsp='const result: (1 | 2 | 3)[]' style='border-bottom: solid 2px lightgrey;'>result</data-lsp></span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> </span><span style=\"color: #6F42C1\"><data-lsp lsp='function tail&lt;1 | 2 | 3>(arg: readonly [string, ...(1 | 2 | 3)[]]): (1 | 2 | 3)[]' >tail</data-lsp></span><span style=\"color: #24292E\">(<data-lsp lsp='const arr: readonly [\"my numbers\", 1, 2, 3]' >arr</data-lsp>)</span></div><div class='meta-line'><span class='popover-prefix'>        </span><span class='popover'><div class='arrow'></div>const result: (1 | 2 | 3)[]</span></div></code><a class='playground-link' href='https://www.typescriptlang.org/play/#code/PQKhCgAIUgnBTALgV1gO0gQw52tMCekAxgPZqKYCWaNA5pPAG7ywGIAW9jAHsfAAdEkTvEgAzKrADOw+ABt4AW3gUoIYOHHI0xRFXIjq8gDwAVAHwAKXHQBcceJgAm5eUQDas2PQA0kADogsw8AXVCASkgAbygScllIDwB9Kjo0UgRnfyCAhFlQyABeLFg6OIQUdEdZcABfcHAyNETcWGKkgCIlIjRkJQAjVmlO-wBGfwAmfwBmQsxpeJbEJoThfOR5YRLKKnkbPAjwYGBIM7OAPQB+IA'>Try</a></div></pre>\n<p>This is not ideal. A <code>(1 | 2 | 3)[]</code> is not the same thing as a <code>[1, 2, 3]</code>.\nWhat we’re seeing here is what happens when TS tries to infer the following</p>\n<pre class=\"shiki github-light\" style=\"background-color: #ffffff; color: #24292e\"><div class='code-container'><code><div class='line'><span style=\"color: undefined\">T[]   &lt;-----&gt;  [1, 2, 3]</span></div></code></div></pre>\n<p>similar to what you’d see here</p>\n<pre class=\"shiki github-light twoslash lsp\" style=\"background-color: #ffffff; color: #24292e\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #D73A49\">function</span><span style=\"color: #24292E\"> </span><span style=\"color: #6F42C1\"><data-lsp lsp='function returnArray&lt;T>(arg: T[]): T[]' >returnArray</data-lsp></span><span style=\"color: #24292E\">&lt;</span><span style=\"color: #E36209\"><data-lsp lsp='(type parameter) T in returnArray&lt;T>(arg: T[]): T[]' >T</data-lsp></span><span style=\"color: #24292E\">&gt;(</span><span style=\"color: #E36209\"><data-lsp lsp='(parameter) arg: T[]' >arg</data-lsp></span><span style=\"color: #D73A49\">:</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\"><data-lsp lsp='(type parameter) T in returnArray&lt;T>(arg: T[]): T[]' >T</data-lsp></span><span style=\"color: #24292E\">[])</span><span style=\"color: #D73A49\">:</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\"><data-lsp lsp='(type parameter) T in returnArray&lt;T>(arg: T[]): T[]' >T</data-lsp></span><span style=\"color: #24292E\">[] {</span></div><div class='line'><span style=\"color: #24292E\">  </span><span style=\"color: #D73A49\">return</span><span style=\"color: #24292E\"> <data-lsp lsp='(parameter) arg: T[]' >arg</data-lsp></span></div><div class='line'><span style=\"color: #24292E\">}</span></div><div class='line'><span style=\"color: #D73A49\">const</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\"><data-lsp lsp='const arr: [1, 2, 3]' >arr</data-lsp></span><span style=\"color: #D73A49\">:</span><span style=\"color: #24292E\"> [</span><span style=\"color: #005CC5\">1</span><span style=\"color: #24292E\">, </span><span style=\"color: #005CC5\">2</span><span style=\"color: #24292E\">, </span><span style=\"color: #005CC5\">3</span><span style=\"color: #24292E\">] </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> [</span><span style=\"color: #005CC5\">1</span><span style=\"color: #24292E\">, </span><span style=\"color: #005CC5\">2</span><span style=\"color: #24292E\">, </span><span style=\"color: #005CC5\">3</span><span style=\"color: #24292E\">]</span></div><div class='line'><span style=\"color: #D73A49\">const</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\"><data-lsp lsp='const result: (3 | 1 | 2)[]' style='border-bottom: solid 2px lightgrey;'>result</data-lsp></span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> </span><span style=\"color: #6F42C1\"><data-lsp lsp='function returnArray&lt;3 | 1 | 2>(arg: (3 | 1 | 2)[]): (3 | 1 | 2)[]' >returnArray</data-lsp></span><span style=\"color: #24292E\">(<data-lsp lsp='const arr: [1, 2, 3]' >arr</data-lsp>)</span></div><div class='meta-line'><span class='popover-prefix'>        </span><span class='popover'><div class='arrow'></div>const result: (3 | 1 | 2)[]</span></div></code><a class='playground-link' href='https://www.typescriptlang.org/play/#code/GYVwdgxgLglg9mABAJwKZRMsBBZyCGAngDwAqAfABT7IDmAXIqQNoC6AlIy64gN4BQiFOkxIatfgF9+EBAGcoiGskbMAjABpEAJi0BmHgF5E6rbsQGZ8xWjkgANouNoMWXAULU87fgHpfQoEAegD8QA'>Try</a></div></pre>\n<p>What we want instead for our tuple scenario, something like this</p>\n<pre class=\"shiki github-light twoslash lsp\" style=\"background-color: #ffffff; color: #24292e\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #D73A49\">function</span><span style=\"color: #24292E\"> </span><span style=\"color: #6F42C1\"><data-lsp lsp='function returnArray&lt;T extends any[]>(arg: T): T' >returnArray</data-lsp></span><span style=\"color: #24292E\">&lt;</span><span style=\"color: #E36209\"><data-lsp lsp='(type parameter) T in returnArray&lt;T extends any[]>(arg: T): T' >T</data-lsp></span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">extends</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\">any</span><span style=\"color: #24292E\">[]&gt;(</span><span style=\"color: #E36209\"><data-lsp lsp='(parameter) arg: T extends any[]' >arg</data-lsp></span><span style=\"color: #D73A49\">:</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\"><data-lsp lsp='(type parameter) T in returnArray&lt;T extends any[]>(arg: T): T' >T</data-lsp></span><span style=\"color: #24292E\">)</span><span style=\"color: #D73A49\">:</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\"><data-lsp lsp='(type parameter) T in returnArray&lt;T extends any[]>(arg: T): T' >T</data-lsp></span><span style=\"color: #24292E\"> {</span></div><div class='line'><span style=\"color: #24292E\">  </span><span style=\"color: #D73A49\">return</span><span style=\"color: #24292E\"> <data-lsp lsp='(parameter) arg: T extends any[]' >arg</data-lsp></span></div><div class='line'><span style=\"color: #24292E\">}</span></div><div class='line'><span style=\"color: #D73A49\">const</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\"><data-lsp lsp='const arr: [1, 2, 3]' >arr</data-lsp></span><span style=\"color: #D73A49\">:</span><span style=\"color: #24292E\"> [</span><span style=\"color: #005CC5\">1</span><span style=\"color: #24292E\">, </span><span style=\"color: #005CC5\">2</span><span style=\"color: #24292E\">, </span><span style=\"color: #005CC5\">3</span><span style=\"color: #24292E\">] </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> [</span><span style=\"color: #005CC5\">1</span><span style=\"color: #24292E\">, </span><span style=\"color: #005CC5\">2</span><span style=\"color: #24292E\">, </span><span style=\"color: #005CC5\">3</span><span style=\"color: #24292E\">]</span></div><div class='line'><span style=\"color: #D73A49\">const</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\"><data-lsp lsp='const result: [1, 2, 3]' style='border-bottom: solid 2px lightgrey;'>result</data-lsp></span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> </span><span style=\"color: #6F42C1\"><data-lsp lsp='function returnArray&lt;[1, 2, 3]>(arg: [1, 2, 3]): [1, 2, 3]' >returnArray</data-lsp></span><span style=\"color: #24292E\">(<data-lsp lsp='const arr: [1, 2, 3]' >arr</data-lsp>)</span></div><div class='meta-line'><span class='popover-prefix'>        </span><span class='popover'><div class='arrow'></div>const result: [1, 2, 3]</span></div></code><a class='playground-link' href='https://www.typescriptlang.org/play/#code/GYVwdgxgLglg9mABAJwKZRMsBBZyCGAngDwAqiqAHlKmACYDOi+YhA2gLoB8AFPsgHMAXIlIBKEeQDeAKEQp0mJPwEyAvjIgIGUZnhFsAjABpEAJlMBmDogC8iI6YuJrm7brQMQAG1320GFi4BIR8eGIyAPSR8rEAegD8QA'>Try</a></div></pre>\n<p>Inference is doing a lot more for us here, and I would argue, <strong>we’re no longer\nlosing type information</strong>, once <code>T = [1, 2, 3]</code></p>\n<p>TS 4.0 introduces support for <em>variadic tuples</em>. This relaxes the limitation\nshown above, and allows us to use <code>...T</code> in tuple types. Going back to our <code>tail</code>\nexample, let’s make a small change</p>\n<pre class=\"shiki github-light\" style=\"background-color: #ffffff; color: #24292e\"><div class=\"language-id\">diff</div><div class='code-container'><code><div class='line'><span style=\"color: #B31D28\">-function tail&lt;T&gt;(arg: readonly [string, ...T[]]) {</span></div><div class='line'><span style=\"color: #22863A\">+function tail&lt;T extends any[]&gt;(arg: readonly [string, ...T]) {</span></div><div class='line'><span style=\"color: #24292E\">  const [_ignored, ...rest] = arg;</span></div><div class='line'><span style=\"color: #24292E\">  return rest;</span></div><div class='line'><span style=\"color: #24292E\">}</span></div></code></div></pre>\n<pre class=\"shiki github-light twoslash lsp\" style=\"background-color: #ffffff; color: #24292e\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #6A737D\">/**</span></div><div class='line'><span style=\"color: #6A737D\"> * return an array containing everything except the first element</span></div><div class='line'><span style=\"color: #6A737D\"> */</span></div><div class='line'><span style=\"color: #D73A49\">function</span><span style=\"color: #24292E\"> </span><span style=\"color: #6F42C1\"><data-lsp lsp='function tail&lt;T extends any[]>(arg: readonly [string, ...T]): [...T]' >tail</data-lsp></span><span style=\"color: #24292E\">&lt;</span><span style=\"color: #E36209\"><data-lsp lsp='(type parameter) T in tail&lt;T extends any[]>(arg: readonly [string, ...T]): [...T]' >T</data-lsp></span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">extends</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\">any</span><span style=\"color: #24292E\">[]&gt;(</span></div><div class='line'><span style=\"color: #24292E\">  </span><span style=\"color: #E36209\"><data-lsp lsp='(parameter) arg: readonly [string, ...T]' >arg</data-lsp></span><span style=\"color: #D73A49\">:</span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">readonly</span><span style=\"color: #24292E\"> [</span><span style=\"color: #005CC5\">string</span><span style=\"color: #24292E\">, </span><span style=\"color: #D73A49\">...</span><span style=\"color: #E36209\"><data-lsp lsp='(type parameter) T in tail&lt;T extends any[]>(arg: readonly [string, ...T]): [...T]' >T</data-lsp></span><span style=\"color: #24292E\">]</span></div><div class='line'><span style=\"color: #24292E\">) {</span></div><div class='line'><span style=\"color: #24292E\">  </span><span style=\"color: #D73A49\">const</span><span style=\"color: #24292E\"> [</span><span style=\"color: #005CC5\"><data-lsp lsp='const _ignored: string' >_ignored</data-lsp></span><span style=\"color: #24292E\">, </span><span style=\"color: #D73A49\">...</span><span style=\"color: #005CC5\"><data-lsp lsp='const rest: [...T]' >rest</data-lsp></span><span style=\"color: #24292E\">] </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> <data-lsp lsp='(parameter) arg: readonly [string, ...T]' >arg</data-lsp></span></div><div class='line'><span style=\"color: #24292E\">  </span><span style=\"color: #D73A49\">return</span><span style=\"color: #24292E\"> <data-lsp lsp='const rest: [...T]' >rest</data-lsp></span></div><div class='line'><span style=\"color: #24292E\">}</span></div><div class='line'>&nbsp;</div><div class='line'><span style=\"color: #D73A49\">const</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\"><data-lsp lsp='const arr: readonly [\"my numbers\", 1, 2, 3]' >arr</data-lsp></span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> [</span><span style=\"color: #032F62\">\"my numbers\"</span><span style=\"color: #24292E\">, </span><span style=\"color: #005CC5\">1</span><span style=\"color: #24292E\">, </span><span style=\"color: #005CC5\">2</span><span style=\"color: #24292E\">, </span><span style=\"color: #005CC5\">3</span><span style=\"color: #24292E\">] </span><span style=\"color: #D73A49\">as</span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\"><data-lsp lsp='type const = readonly [\"my numbers\", 1, 2, 3]' >const</data-lsp></span></div><div class='line'><span style=\"color: #D73A49\">const</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\"><data-lsp lsp='const result: [1, 2, 3]' style='border-bottom: solid 2px lightgrey;'>result</data-lsp></span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> </span><span style=\"color: #6F42C1\"><data-lsp lsp='function tail&lt;[1, 2, 3]>(arg: readonly [string, 1, 2, 3]): [1, 2, 3]' >tail</data-lsp></span><span style=\"color: #24292E\">(<data-lsp lsp='const arr: readonly [\"my numbers\", 1, 2, 3]' >arr</data-lsp>)</span></div><div class='meta-line'><span class='popover-prefix'>        </span><span class='popover'><div class='arrow'></div>const result: [1, 2, 3]</span></div></code><a class='playground-link' href='https://www.typescriptlang.org/play/#code/PQKhCgAIUgnBTALgV1gO0gQw52tMCekAxgPZqKYCWaNA5pPAG7ywGIAW9jAHsfAAdEkTvEgAzKrADOw+ABt4AW3gUoIYOHHI0xRFXIjq8gDwAVXolUATaVjQEA2gF0AfAAooWWHQBcceExrcnkiR1lYegAaSAA6eLNncABKSABvLzI0WUhHAH0qOjRSBGsY+NiEWWdIAF5vOi8EFHQA2XAAX3BwLJzcWDrcgCIlIjRkJQAjVmkhmIBGGIAmGIBmGsw7XsQe8hyq5HlhesoqeXd+5PBgYEg7u4A9AH4gA'>Try</a></div></pre>\n<p>There we go! This improved degree of inference now works for us <em>inside the tuple</em>!</p>\n<p>We can also now use more than one <code>...spread</code> in a single tuple</p>\n<pre class=\"shiki github-light twoslash lsp\" style=\"background-color: #ffffff; color: #24292e\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #D73A49\">type</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\"><data-lsp lsp='type MyTuple = [number, number, string, string, string]' >MyTuple</data-lsp></span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> [</span></div><div class='line'><span style=\"color: #24292E\">  </span><span style=\"color: #D73A49\">...</span><span style=\"color: #24292E\">[</span><span style=\"color: #005CC5\">number</span><span style=\"color: #24292E\">, </span><span style=\"color: #005CC5\">number</span><span style=\"color: #24292E\">],</span></div><div class='line'><span style=\"color: #24292E\">  </span><span style=\"color: #D73A49\">...</span><span style=\"color: #24292E\">[</span><span style=\"color: #005CC5\">string</span><span style=\"color: #24292E\">, </span><span style=\"color: #005CC5\">string</span><span style=\"color: #24292E\">, </span><span style=\"color: #005CC5\">string</span><span style=\"color: #24292E\">]</span></div><div class='line'><span style=\"color: #24292E\">]</span></div><div class='line'><span style=\"color: #D73A49\">const</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\"><data-lsp lsp='const x: [number, number, string, string, string]' style='border-bottom: solid 2px lightgrey;'>x</data-lsp></span><span style=\"color: #D73A49\">:</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\"><data-lsp lsp='type MyTuple = [number, number, string, string, string]' >MyTuple</data-lsp></span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> [</span><span style=\"color: #005CC5\">1</span><span style=\"color: #24292E\">, </span><span style=\"color: #005CC5\">2</span><span style=\"color: #24292E\">, </span><span style=\"color: #032F62\">\"a\"</span><span style=\"color: #24292E\">, </span><span style=\"color: #032F62\">\"b\"</span><span style=\"color: #24292E\">, </span><span style=\"color: #032F62\">\"c\"</span><span style=\"color: #24292E\">]</span></div><div class='meta-line'><span class='popover-prefix'>     </span><span class='popover'><div class='arrow'></div>const x: [number, number, string, string, string]</span></div></code><a class='playground-link' href='https://www.typescriptlang.org/play/#code/C4TwDgpgBAsiAqBXMAbaBeKBtAUFKAdEVgHaIC2ARhAE4A0UZVtAunXocQM7A0CWJAOYMe-ISN4DBLHDIDGAexI8oADwBcsBMjRRMWAIwMATAwBEAQzPnK1qGblmZAemf58APQD8QA'>Try</a></div></pre>\n<p>It’s important to note that <strong>only one <code>...rest[]</code> element is possible in a given\ntuple, but it doesn’t necessarily have to be the last element</strong></p>\n<pre class=\"shiki github-light twoslash lsp\" style=\"background-color: #ffffff; color: #24292e\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #D73A49\">type</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\"><data-lsp lsp='type YEScompile1 = [number, number, ...string[]]' >YEScompile1</data-lsp></span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> [</span><span style=\"color: #D73A49\">...</span><span style=\"color: #24292E\">[</span><span style=\"color: #005CC5\">number</span><span style=\"color: #24292E\">, </span><span style=\"color: #005CC5\">number</span><span style=\"color: #24292E\">], </span><span style=\"color: #D73A49\">...</span><span style=\"color: #005CC5\">string</span><span style=\"color: #24292E\">[]]</span></div><div class='line'><span style=\"color: #D73A49\">type</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\"><data-lsp lsp='type NOcompile1 = [...number[], ...string[]]' >NOcompile1</data-lsp></span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> [</span><span style=\"color: #D73A49\">...</span><span style=\"color: #005CC5\">number</span><span style=\"color: #24292E\">[], </span><span style=\"color: #D73A49\">...</span><span style=\"color: #005CC5\">string</span><span style=\"color: #24292E\">[]]</span></div><span class=\"error\"><span>A rest element cannot follow another rest element.</span><span class=\"code\">1265</span></span><span class=\"error-behind\">A rest element cannot follow another rest element.</span><div class='line'>&nbsp;</div><div class='line'><span style=\"color: #D73A49\">type</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\"><data-lsp lsp='type YEScompile2 = [boolean, ...number[], string]' >YEScompile2</data-lsp></span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> [</span><span style=\"color: #005CC5\">boolean</span><span style=\"color: #24292E\">, </span><span style=\"color: #D73A49\">...</span><span style=\"color: #005CC5\">number</span><span style=\"color: #24292E\">[], </span><span style=\"color: #005CC5\">string</span><span style=\"color: #24292E\">]</span></div></code><a class='playground-link' href='https://www.typescriptlang.org/play/#code/PTAEAEFMCdoe2gZwFygIwCYBsBWAUAC4CeADpKAJoCiAygMZwC2JAlgDaRqgC8oA2gDohfAHYBXRgCMYAGlDipMALpyhAxAWgsRAcz5KlhUuQByAeQbN2nHvzULp0faqEatu-YaNlKtS6w4MWz5JODgOAEMRFwEHGGdQN20dJSA'>Try</a></div></pre>\n<h1 id=\"class-property-inference-from-constructors\" style=\"position:relative;\"><a href=\"#class-property-inference-from-constructors\" aria-label=\"class property inference from constructors permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Class Property Inference from Constructors</h1>\n<p>This major convenience feature reduces the need for class\nfield type annotations by inferring their types from\nassignments in the <code>constructor</code>. It’s important to remember\nthat this only works when <code>noImplicitAny</code> is set to <code>true</code>.</p>\n<pre class=\"shiki github-light twoslash lsp\" style=\"background-color: #ffffff; color: #24292e\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #D73A49\">class</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\"><data-lsp lsp='class Color' >Color</data-lsp></span><span style=\"color: #24292E\"> {</span></div><div class='line'><span style=\"color: #24292E\">  </span><span style=\"color: #E36209\"><data-lsp lsp='(property) Color.red: number' style='border-bottom: solid 2px lightgrey;'>red</data-lsp></span></div><div class='meta-line'><span class='popover-prefix'>  </span><span class='popover'><div class='arrow'></div>(property) Color.red: number</span></div><div class='line'><span style=\"color: #24292E\">  </span><span style=\"color: #E36209\"><data-lsp lsp='(property) Color.green: number' >green</data-lsp></span></div><div class='line'><span style=\"color: #24292E\">  </span><span style=\"color: #E36209\"><data-lsp lsp='(property) Color.blue: number' >blue</data-lsp></span></div><div class='line'><span style=\"color: #24292E\">  </span><span style=\"color: #D73A49\">constructor</span><span style=\"color: #24292E\">(</span><span style=\"color: #E36209\"><data-lsp lsp='(parameter) c: [number, number, number]' >c</data-lsp></span><span style=\"color: #D73A49\">:</span><span style=\"color: #24292E\"> [</span><span style=\"color: #005CC5\">number</span><span style=\"color: #24292E\">, </span><span style=\"color: #005CC5\">number</span><span style=\"color: #24292E\">, </span><span style=\"color: #005CC5\">number</span><span style=\"color: #24292E\">]) {</span></div><div class='line'><span style=\"color: #24292E\">    </span><span style=\"color: #005CC5\">this</span><span style=\"color: #24292E\">.<data-lsp lsp='(property) Color.red: number' >red</data-lsp> </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> <data-lsp lsp='(parameter) c: [number, number, number]' >c</data-lsp>[</span><span style=\"color: #005CC5\">0</span><span style=\"color: #24292E\">];</span></div><div class='line'><span style=\"color: #24292E\">    </span><span style=\"color: #005CC5\">this</span><span style=\"color: #24292E\">.<data-lsp lsp='(property) Color.green: number' >green</data-lsp> </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> <data-lsp lsp='(parameter) c: [number, number, number]' >c</data-lsp>[</span><span style=\"color: #005CC5\">1</span><span style=\"color: #24292E\">];</span></div><div class='line'><span style=\"color: #24292E\">    </span><span style=\"color: #005CC5\">this</span><span style=\"color: #24292E\">.<data-lsp lsp='(property) Color.blue: number' >blue</data-lsp> </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> <data-lsp lsp='(parameter) c: [number, number, number]' >c</data-lsp>[</span><span style=\"color: #005CC5\">2</span><span style=\"color: #24292E\">];</span></div><div class='line'><span style=\"color: #24292E\">  }</span></div><div class='line'><span style=\"color: #24292E\">}</span></div></code><a class='playground-link' href='https://www.typescriptlang.org/play/#code/MYGwhgzhAEDCD2J4CdoG8BQ1rIKYBMMB6I6APQH4toBzPXAO2oCMQBXXa4eBiAF2RtgfFAApgALmgBtBmwC2zXMgA00OYuVqNS5AF0AlOmrY+ACwCWEAHR580ALzRg0gAx6A3Cejmr1uriMjs7SAIye3r42rBzBLgBMEdgAvhjJQA'>Try</a></div></pre>\n<h1 id=\"thrown-values-as-unknown\" style=\"position:relative;\"><a href=\"#thrown-values-as-unknown\" aria-label=\"thrown values as unknown permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Thrown values as unknown</h1>\n<p>Before TS 4.0, thrown values were always considered to be of type\n<code>any</code>. Now, we can choose to regard it as of type <code>unknown</code>.\nIf you’ve ever found it risky to assume that a <code>message</code>, <code>stacktrace</code>,\nor <code>name</code> property is on every possible thrown value you encounter\nin a catch clause, this feature may make help you sleep a little more soundly.</p>\n<p><strong>I advise always typing errors as <code>unknown</code></strong>, and can’t think of any scenario\nwhere it would be worse than an <code>any</code>.</p>\n<pre class=\"shiki github-light twoslash lsp\" style=\"background-color: #ffffff; color: #24292e\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #D73A49\">try</span><span style=\"color: #24292E\"> {</span></div><div class='line'><span style=\"color: #24292E\">  </span><span style=\"color: #6F42C1\"><data-lsp lsp='function somethingRisky(): void' >somethingRisky</data-lsp></span><span style=\"color: #24292E\">()</span></div><div class='line'><span style=\"color: #24292E\">} </span><span style=\"color: #D73A49\">catch</span><span style=\"color: #24292E\"> (</span><span style=\"color: #E36209\"><data-lsp lsp='var err: unknown' >err</data-lsp></span><span style=\"color: #D73A49\">:</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\">unknown</span><span style=\"color: #24292E\">) {</span></div><div class='line'><span style=\"color: #24292E\">  </span><span style=\"color: #D73A49\">if</span><span style=\"color: #24292E\"> (<data-lsp lsp='var err: unknown' >err</data-lsp> </span><span style=\"color: #D73A49\">instanceof</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\"><data-lsp lsp='var Error: ErrorConstructor' >Error</data-lsp></span><span style=\"color: #24292E\">) </span><span style=\"color: #D73A49\">throw</span><span style=\"color: #24292E\"> <data-lsp lsp='var err: Error' >err</data-lsp></span></div><div class='line'><span style=\"color: #24292E\">  </span><span style=\"color: #D73A49\">else</span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">throw</span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">new</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\"><data-lsp lsp='var Error: ErrorConstructor&#10;new (message?: string | undefined) => Error' >Error</data-lsp></span><span style=\"color: #24292E\">(</span><span style=\"color: #032F62\">`${</span><span style=\"color: #24292E\"><data-lsp lsp='var err: unknown' >err</data-lsp></span><span style=\"color: #032F62\">}`</span><span style=\"color: #24292E\">)</span></div><div class='line'><span style=\"color: #24292E\">}</span></div></code><a class='playground-link' href='https://www.typescriptlang.org/play/#code/GYVwdgxgLglg9mABAZzgWwKZQBYzAcwCUZkBrATwAoBKRAbwF8AoAehcQFouIQouOmUAE7l6TRCnRZcBYmSrUmDRBACGUCNkSUMQoQC5E4UmDgB3MLTrjEMYNt1DbYZFFWQMcewFE9cIbQ4QuaIjjYYADbIGIhBIWAYZoi+wUKUAAYAJHSODOmKDEA'>Try</a></div></pre>\n<p>There’s also a <code>useUnknownInCatchVariables</code> <code>compilerOption</code> flag that\nwill make thrown values unknown across your entire project</p>\n<h1 id=\"template-literal-types\" style=\"position:relative;\"><a href=\"#template-literal-types\" aria-label=\"template literal types permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Template literal types</h1>\n<p>You can think of these like <strong>template strings, but for types</strong>.</p>\n<pre class=\"shiki github-light twoslash lsp\" style=\"background-color: #ffffff; color: #24292e\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #D73A49\">type</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\"><data-lsp lsp='type Statistics = {&#10;    medianValue?: number | undefined;&#10;    meanValue?: number | undefined;&#10;}' >Statistics</data-lsp></span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> {</span></div><div class='line'><span style=\"color: #24292E\">  [</span><span style=\"color: #E36209\"><data-lsp lsp='(type parameter) K' >K</data-lsp></span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">in</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">`${&apos;median&apos;</span><span style=\"color: #032F62\"> </span><span style=\"color: #D73A49\">|</span><span style=\"color: #032F62\"> </span><span style=\"color: #032F62\">&apos;mean&apos;}Value`</span><span style=\"color: #24292E\">]</span><span style=\"color: #D73A49\">?:</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\">number</span></div><div class='line'><span style=\"color: #24292E\">}</span></div><div class='line'><span style=\"color: #D73A49\">const</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\"><data-lsp lsp='const stats: Statistics' >stats</data-lsp></span><span style=\"color: #D73A49\">:</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\"><data-lsp lsp='type Statistics = {&#10;    medianValue?: number | undefined;&#10;    meanValue?: number | undefined;&#10;}' >Statistics</data-lsp></span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> {}</span></div><div class='line'><span style=\"color: #24292E\"><data-lsp lsp='const stats: Statistics' >stats</data-lsp>.<data-lsp lsp='(property) meanValue?: number | undefined' >meanValue</data-lsp></span></div><div class='meta-line'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='inline-completions'><ul class='dropdown'><li class=''><span><span class='result-found'>m</span>eanValue<span></li><li class=''><span><span class='result-found'>m</span>edianValue<span></li></ul></span></div></code><a class='playground-link' href='https://www.typescriptlang.org/play/#code/C4TwDgpgBAysCGwCWBnZBjFUC8UDeAUFFANoDSUSAdlAAYAkeA5ALYQAmS8VTUAPlFYRuTAL4A1eABsArhFoBdAPwAuKFRksARhABOBUQXQB7KmihpEKNXESoMWXHkOXgKAHRtuk2RAIB6f2JggD0+IA'>Try</a></div></pre>\n<p>You can do some pretty interesting things with these</p>\n<pre class=\"shiki github-light twoslash lsp\" style=\"background-color: #ffffff; color: #24292e\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #D73A49\">let</span><span style=\"color: #24292E\"> <data-lsp lsp='let winFns: \"setInterval\" | \"setTimeout\"' style='border-bottom: solid 2px lightgrey;'>winFns</data-lsp></span><span style=\"color: #D73A49\">:</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\"><data-lsp lsp='type Extract&lt;T, U> = T extends U ? T : never' >Extract</data-lsp></span><span style=\"color: #24292E\">&lt;</span><span style=\"color: #D73A49\">keyof</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\"><data-lsp lsp='interface Window' >Window</data-lsp></span><span style=\"color: #24292E\">, </span><span style=\"color: #032F62\">`set${</span><span style=\"color: #005CC5\">any</span><span style=\"color: #032F62\">}`</span><span style=\"color: #24292E\">&gt; </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">&apos;&apos;</span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">as</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\">any</span></div><div class='meta-line'><span class='popover-prefix'>      </span><span class='popover'><div class='arrow'></div>let winFns: \"setInterval\" | \"setTimeout\"</span></div></code><a class='playground-link' href='https://www.typescriptlang.org/play/#code/DYUwLgBA7glgdgMTgZwFwQKIA8wCcCGAxmADwDWIAngPYBmEA6vACbVQA0EABsuACQBvfHEoBfLgD4IAXggByORHzIlIgFAB6DRB26AegH4gA'>Try</a></div></pre>\n<p>We even get some special utility types to assist with changing case</p>\n<pre class=\"shiki github-light twoslash lsp\" style=\"background-color: #ffffff; color: #24292e\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #D73A49\">type</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\"><data-lsp lsp='type T1 = \"sendMouseEvent\" | \"sendKeyboardEvent\"' style='border-bottom: solid 2px lightgrey;'>T1</data-lsp></span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">`send${</span><span style=\"color: #E36209\"><data-lsp lsp='type Capitalize&lt;S extends string> = intrinsic' >Capitalize</data-lsp></span><span style=\"color: #032F62\">&lt;</span><span style=\"color: #032F62\">&apos;mouse&apos;</span><span style=\"color: #D73A49\">|</span><span style=\"color: #032F62\">&apos;keyboard&apos;</span><span style=\"color: #032F62\">&gt;</span><span style=\"color: #032F62\">}Event`</span></div><div class='meta-line'><span class='popover-prefix'>     </span><span class='popover'><div class='arrow'></div>type T1 = \"sendMouseEvent\" | \"sendKeyboardEvent\"</span></div><div class='line'><span style=\"color: #D73A49\">type</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\"><data-lsp lsp='type T2 = \"sendMOUSEEvent\" | \"sendKEYBOARDEvent\"' style='border-bottom: solid 2px lightgrey;'>T2</data-lsp></span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">`send${</span><span style=\"color: #E36209\"><data-lsp lsp='type Uppercase&lt;S extends string> = intrinsic' >Uppercase</data-lsp></span><span style=\"color: #032F62\">&lt;</span><span style=\"color: #032F62\">&apos;mouse&apos;</span><span style=\"color: #D73A49\">|</span><span style=\"color: #032F62\">&apos;keyboard&apos;</span><span style=\"color: #032F62\">&gt;</span><span style=\"color: #032F62\">}Event`</span></div><div class='meta-line'><span class='popover-prefix'>     </span><span class='popover'><div class='arrow'></div>type T2 = \"sendMOUSEEvent\" | \"sendKEYBOARDEvent\"</span></div><div class='line'><span style=\"color: #D73A49\">type</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\"><data-lsp lsp='type T3 = \"sendmouseEvent\" | \"sendkeyboardEvent\"' style='border-bottom: solid 2px lightgrey;'>T3</data-lsp></span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">`send${</span><span style=\"color: #E36209\"><data-lsp lsp='type Lowercase&lt;S extends string> = intrinsic' >Lowercase</data-lsp></span><span style=\"color: #032F62\">&lt;</span><span style=\"color: #032F62\">&apos;Mouse&apos;</span><span style=\"color: #D73A49\">|</span><span style=\"color: #032F62\">&apos;keyBoard&apos;</span><span style=\"color: #032F62\">&gt;</span><span style=\"color: #032F62\">}Event`</span></div><div class='meta-line'><span class='popover-prefix'>     </span><span class='popover'><div class='arrow'></div>type T3 = \"sendmouseEvent\" | \"sendkeyboardEvent\"</span></div></code><a class='playground-link' href='https://www.typescriptlang.org/play/#code/C4TwDgpgBAKgjFAvFABgZwgOwCYBIDeAwgIZgCWwxANmQF4QA8A5ALYD2ArhkwD5MDWEEACM2xAE7YmAPgC+AUQBuWYCgBQAeg1QdAPQD8a0JFgAmJKgw4CAVTCRxAY2IZm7LhF4ChoiVLlKKupaOlAGRuDQMADMFuhYePgAMmwA7hBOLoxMALKc3HyCIABCYpIyCsqYqpraevpAA'>Try</a></div></pre>\n<h1 id=\"key-remapping-in-mapped-types\" style=\"position:relative;\"><a href=\"#key-remapping-in-mapped-types\" aria-label=\"key remapping in mapped types permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Key remapping in mapped types</h1>\n<p>You may recall that mapped types are kind of like our “for loop”\nto build up an object type by key-value pairs. Before TS 4.1,\nour ability to transform keys was very limited (usually involving an\nexplicit “old key to new key mapping”)</p>\n<p>We now have some new syntax (note the <code>as</code> in the example below) that\nlets us transform keys in a more declarative way. This language\nfeature works quite nicely with template literal types</p>\n<pre class=\"shiki github-light twoslash lsp\" style=\"background-color: #ffffff; color: #24292e\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line dim'><span style=\"color: #D73A49\">type</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\"><data-lsp lsp='type Colors = \"red\" | \"green\" | \"blue\"' >Colors</data-lsp></span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">&apos;red&apos;</span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">|</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">&apos;green&apos;</span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">|</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">&apos;blue&apos;</span><span style=\"color: #24292E\">;</span></div><div class='line dim'><span style=\"color: #D73A49\">type</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\"><data-lsp lsp='type ColorSelector = {&#10;    selectRed: () => void;&#10;    selectGreen: () => void;&#10;    selectBlue: () => void;&#10;}' >ColorSelector</data-lsp></span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> {</span></div><div class='line highlight'><span style=\"color: #24292E\">  [</span><span style=\"color: #E36209\"><data-lsp lsp='(type parameter) K' >K</data-lsp></span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">in</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\"><data-lsp lsp='type Colors = \"red\" | \"green\" | \"blue\"' >Colors</data-lsp></span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">as</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">`select${</span><span style=\"color: #E36209\"><data-lsp lsp='type Capitalize&lt;S extends string> = intrinsic' >Capitalize</data-lsp></span><span style=\"color: #032F62\">&lt;</span><span style=\"color: #E36209\"><data-lsp lsp='(type parameter) K' >K</data-lsp></span><span style=\"color: #032F62\">&gt;</span><span style=\"color: #032F62\">}`</span><span style=\"color: #24292E\">]</span><span style=\"color: #D73A49\">:</span><span style=\"color: #24292E\"> () </span><span style=\"color: #D73A49\">=&gt;</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\">void</span></div><div class='line dim'><span style=\"color: #24292E\">}</span></div><div class='line dim'><span style=\"color: #D73A49\">const</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\"><data-lsp lsp='const cs: ColorSelector' >cs</data-lsp></span><span style=\"color: #D73A49\">:</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\"><data-lsp lsp='type ColorSelector = {&#10;    selectRed: () => void;&#10;    selectGreen: () => void;&#10;    selectBlue: () => void;&#10;}' >ColorSelector</data-lsp></span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> {} </span><span style=\"color: #D73A49\">as</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\">any</span></div><div class='line dim'><span style=\"color: #24292E\"><data-lsp lsp='const cs: ColorSelector' >cs</data-lsp>.</span><span style=\"color: #6F42C1\"><data-lsp lsp='(property) selectRed: () => void' >selectRed</data-lsp></span><span style=\"color: #24292E\">()</span></div><div class='meta-line'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='inline-completions'><ul class='dropdown'><li class=''><span><span class='result-found'>sele</span>ctBlue<span></li><li class=''><span><span class='result-found'>sele</span>ctGreen<span></li><li class=''><span><span class='result-found'>sele</span>ctRed<span></li></ul></span></div></code><a class='playground-link' href='https://www.typescriptlang.org/play/#code/C4TwDgpgBAwg9gGzgJwM5QLxQOTIgE2ygB8cBzPCAOyNOwCMEBXCbAbgChRJZEUBlCAggBjYCkxQA3hyhQA2gGkoASyq8kaKAEN0AA1RDRwACRSY2sCuDaEKgF4QAPIoB8AXz0BdAFxQAFACUmK5QAG5wKvgc7hwicFSowFAiqH7wmoLCYhJYUu466NpUIHGoAHSG2cAASgRBHAD0jXKtAHrEQA'>Try</a></div></pre>\n<h1 id=\"checked-index-access\" style=\"position:relative;\"><a href=\"#checked-index-access\" aria-label=\"checked index access permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Checked index access</h1>\n<p>If you’ve ever heard me rant about typing Dictionaries, you may recall that\n<strong>my advice to describe them as having a possibility of holding <code>undefined</code> under some keys</strong></p>\n<pre class=\"shiki github-light twoslash lsp\" style=\"background-color: #ffffff; color: #24292e\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #6A737D\">// Mike thinks this is way too optimistic</span></div><div class='line'><span style=\"color: #D73A49\">type</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\"><data-lsp lsp='type Dict&lt;T> = {&#10;    [K: string]: T;&#10;}' >Dict</data-lsp></span><span style=\"color: #24292E\">&lt;</span><span style=\"color: #E36209\"><data-lsp lsp='(type parameter) T in type Dict&lt;T>' >T</data-lsp></span><span style=\"color: #24292E\">&gt; </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> { [</span><span style=\"color: #E36209\"><data-lsp lsp='(parameter) K: string' >K</data-lsp></span><span style=\"color: #D73A49\">:</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\">string</span><span style=\"color: #24292E\">]</span><span style=\"color: #D73A49\">:</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\"><data-lsp lsp='(type parameter) T in type Dict&lt;T>' >T</data-lsp></span><span style=\"color: #24292E\"> }</span></div><div class='line'>&nbsp;</div><div class='line'><span style=\"color: #D73A49\">const</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\"><data-lsp lsp='const d: Dict&lt;string[]>' >d</data-lsp></span><span style=\"color: #D73A49\">:</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\"><data-lsp lsp='type Dict&lt;T> = {&#10;    [K: string]: T;&#10;}' >Dict</data-lsp></span><span style=\"color: #24292E\">&lt;</span><span style=\"color: #005CC5\">string</span><span style=\"color: #24292E\">[]&gt; </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> {}</span></div><div class='line'><span style=\"color: #24292E\"><data-lsp lsp='const d: Dict&lt;string[]>' >d</data-lsp>.<data-lsp lsp='string[]' >rhubarb</data-lsp>.</span><span style=\"color: #6F42C1\"><data-lsp lsp='(method) Array&lt;string>.join(separator?: string | undefined): string' >join</data-lsp></span><span style=\"color: #24292E\">(</span><span style=\"color: #032F62\">&apos;, &apos;</span><span style=\"color: #24292E\">); </span><span style=\"color: #6A737D\">// 💥</span></div></code><a class='playground-link' href='https://www.typescriptlang.org/play/#code/PTAEFkEsGsFNQC4AtIDtoGdEq5LB3AQwE9EB7M0MgBwUgFs86BjAKAWOvgBFJmEAPABUAfKAC8oAN6gA2gGkAXKAwIATmgDmAXWVDQAX1atmZVKtAATZb34DVG1JtnaxkqUcsA6NUgCuAEaEagFeAFZkaAAUAOQANKAxAJQA3KAgoIC8G4ClO0A'>Try</a></div></pre>\n<p>My advice was to explicitly type it as</p>\n<pre class=\"shiki github-light twoslash lsp\" style=\"background-color: #ffffff; color: #24292e\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #D73A49\">type</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\"><data-lsp lsp='type Dict&lt;T> = {&#10;    [K: string]: T | undefined;&#10;}' >Dict</data-lsp></span><span style=\"color: #24292E\">&lt;</span><span style=\"color: #E36209\"><data-lsp lsp='(type parameter) T in type Dict&lt;T>' >T</data-lsp></span><span style=\"color: #24292E\">&gt; </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> { [</span><span style=\"color: #E36209\"><data-lsp lsp='(parameter) K: string' >K</data-lsp></span><span style=\"color: #D73A49\">:</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\">string</span><span style=\"color: #24292E\">]</span><span style=\"color: #D73A49\">:</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\"><data-lsp lsp='(type parameter) T in type Dict&lt;T>' >T</data-lsp></span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">|</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\">undefined</span><span style=\"color: #24292E\"> }</span></div><div class='line'><span style=\"color: #D73A49\">const</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\"><data-lsp lsp='const d: Dict&lt;string[]>' >d</data-lsp></span><span style=\"color: #D73A49\">:</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\"><data-lsp lsp='type Dict&lt;T> = {&#10;    [K: string]: T | undefined;&#10;}' >Dict</data-lsp></span><span style=\"color: #24292E\">&lt;</span><span style=\"color: #005CC5\">string</span><span style=\"color: #24292E\">[]&gt; </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> {}</span></div><div class='line'><span style=\"color: #24292E\"><data-err><data-lsp lsp='const d: Dict&lt;string[]>' >d</data-lsp>.<data-lsp lsp='string[] | undefined' >rhubarb</data-lsp></data-err>.</span><span style=\"color: #6F42C1\"><data-lsp lsp='(method) Array&lt;string>.join(separator?: string | undefined): string' >join</data-lsp></span><span style=\"color: #24292E\">(</span><span style=\"color: #032F62\">&apos;, &apos;</span><span style=\"color: #24292E\">); </span><span style=\"color: #6A737D\">// 💥</span></div><span class=\"error\"><span>Object is possibly 'undefined'.</span><span class=\"code\">2532</span></span><span class=\"error-behind\">Object is possibly 'undefined'.</span></code><a class='playground-link' href='https://www.typescriptlang.org/play/#code/PTAEAEFMCdoe2gZwFygEwFYDMaBQAXATwAdJQARASwGN8AeAFQD5QBeUAb1AG0BpVRPmiUAdgHMAuqgagAPqACuIgCaQAZqMjLQAX1zU4IwaGWoqtOoOHjuEluw57lAOmgALBQCMAhtE-OAKzhRAAoAcgAaUDCASgBuUBBQQF4NwFKdoA'>Try</a></div></pre>\n<p>Great, now we see an error alerting us to the ~possibility~ certainty that\nthere is no <code>string[]</code> stored under the <code>rhubarb</code> key.</p>\n<p>However, it’s tough to be vigilant enough to remember to do this to every\nindex signature in your entire app.</p>\n<p>TypeScript now gives us a compiler flag that will do this for us: <code>noUncheckedIndexAccess</code>.</p>","tableOfContents":"<ul>\n<li><a href=\"#variadic-tuple-types\">Variadic Tuple Types</a></li>\n<li><a href=\"#class-property-inference-from-constructors\">Class Property Inference from Constructors</a></li>\n<li><a href=\"#thrown-values-as-unknown\">Thrown values as unknown</a></li>\n<li><a href=\"#template-literal-types\">Template literal types</a></li>\n<li><a href=\"#key-remapping-in-mapped-types\">Key remapping in mapped types</a></li>\n<li><a href=\"#checked-index-access\">Checked index access</a></li>\n</ul>","fields":{"slug":"/course/making-typescript-stick/03-recent-updates-to-typescript/"},"frontmatter":{"title":"Recent updates to TypeScript","course":"making-typescript-stick","date":"March 22, 2022","description":"We'll discuss some important advancements in the TS language\nand compiler, starting with the 4.0 release\n"}}},"pageContext":{"slug":"/course/making-typescript-stick/03-recent-updates-to-typescript/","title":"Recent updates to TypeScript","course":"making-typescript-stick","order":3,"previous":{"fields":{"slug":"/course/making-typescript-stick/02-warm-up/"},"frontmatter":{"title":"JS/TS Warm-up Quiz","order":2,"course":"making-typescript-stick","isExercise":null}},"next":{"fields":{"slug":"/course/making-typescript-stick/04-challenge-1/"},"frontmatter":{"title":"Challenge 1: Typing jQuery","order":4,"course":"making-typescript-stick","isExercise":null}}}},
    "staticQueryHashes": ["2074799692","2841359383"]}